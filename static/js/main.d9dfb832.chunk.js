(this.webpackJsonpaleksandr_guralnik=this.webpackJsonpaleksandr_guralnik||[]).push([[0],{102:function(t,e,a){t.exports={Tab:"Tab_Tab__24ZQb",active:"Tab_active__1h_ri"}},103:function(t,e,a){t.exports={Chart:"Chart_Chart__3zPcL",label:"Chart_label__1awVu"}},143:function(t,e,a){t.exports={Card:"Card_Card__1NsFV"}},144:function(t,e,a){t.exports={Tabs:"Tabs_Tabs__3JCYh"}},173:function(t,e,a){},310:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),s=a(78),c=a.n(s),i=(a(173),a(163)),o=a(18),u=a(40),d={status:"",error:null,data:null},l=function(t,e){switch(e.type){case"pending":return Object(u.a)(Object(u.a)({},t),{},{status:"pending"});case"completed":return e.error?{status:"completed",error:e.error,data:null}:{status:"completed",error:null,data:e.data};default:return d}},j=function(){var t=Object(r.useReducer)(l,d),e=Object(o.a)(t,2),a=e[0],n=e[1];return[Object(r.useCallback)((function(t){n({type:"pending"}),fetch(t).then((function(t){if(!t.ok)throw new Error("Something went wrong");return t.json()})).then((function(t){n({type:"completed",data:t})})).catch((function(t){n({type:"completed",error:t})}))}),[]),a]},p=a(9),b={data:[],sorting:{id:"5ms",period:5,precision:"Minutes"},error:null,status:""},h=function(t,e){switch(e.type){case"set-data":return{data:e.payload.data,sorting:t.sorting,error:null,status:e.payload.status};case"set-error":return{data:t.data,sorting:t.sorting,error:e.payload.error,status:e.payload.status};case"set-status":return Object(u.a)(Object(u.a)({},t),{},{status:e.payload.status});case"change-sorting":return{data:[],sorting:e.payload,error:null,status:""};default:return t}},f=Object(r.createContext)(b),g=function(t){var e=Object(r.useReducer)(h,b),a=Object(o.a)(e,2),n=a[0],s=n.data,c=n.sorting,u=n.error,d=n.status,l=a[1],g=j(),O=Object(o.a)(g,2),m=O[0],v=O[1],x=v.data,C=v.status,y=v.error;Object(r.useEffect)((function(){if(""===d){var t="https://www.fxempire.com/api/v1/en/stocks/chart/candles?Identifier=AAPL.XNAS&IdentifierType=Symbol&AdjustmentMethod=All&IncludeExtended=False&period=".concat(c.period,"&Precision=").concat(c.precision,"&StartTime=8/28/2020%2016:0&EndTime=9/4/2020%2023:59&_fields=ChartBars.StartDate,ChartBars.High,ChartBars.Low,ChartBars.StartTime,ChartBars.Open,ChartBars.Close,ChartBars.Volume");m(t)}}),[m,c,d]),Object(r.useEffect)((function(){l(null!==x?{type:"set-data",payload:{data:x,status:C,error:y}}:null!==y?{type:"set-error",payload:{status:C,error:y}}:{type:"set-status",payload:{status:C}})}),[x,C,y,l]);var _=s.length>15?s.splice(s.length-15):Object(i.a)(s);return Object(p.jsx)(f.Provider,{value:{data:_,dispatch:l,sorting:c,status:d,error:u},children:t.children})},O=a(143),m=a.n(O),v=function(t){return Object(p.jsx)("div",{className:m.a.Card,children:t.children})},x=a(144),C=a.n(x),y=a(102),_=a.n(y),k=function(t){return Object(p.jsx)("div",{className:"".concat(_.a.Tab," ").concat(t.isActive?_.a.active:""),onClick:t.onClick,children:Object(p.jsx)("p",{children:t.name})})};k.defaultProps={name:"",isActive:!1,sorting:{},onClick:function(){}};var w=k,A=function(t){var e=t.tabs.map((function(t,e){return Object(p.jsx)(w,Object(u.a)({},t),"tab__".concat(t.name).concat(e))}));return Object(p.jsx)("div",{className:C.a.Tabs,children:e})};A.defaultProps={tabs:[]};var T=A,F=[{name:"1 min",sorting:{id:"1ms",period:1,precision:"Minutes"},isActive:!1},{name:"5 min",sorting:{id:"5ms",period:5,precision:"Minutes"},isActive:!1},{name:"1 hour",sorting:{id:"1hs",period:1,precision:"Hours"},isActive:!1},{name:"1 week",sorting:{id:"1ws",period:168,precision:"Hours"},isActive:!1}],N=function(){var t=Object(r.useContext)(f),e=t.dispatch,a=t.sorting,n=F.map((function(t){return t.sorting.id===a.id?t.isActive=!0:t.isActive=!1,t.onClick=function(){return a=t.sorting,void e({type:"change-sorting",payload:a});var a},t}));return Object(p.jsx)("div",{children:Object(p.jsx)(T,{tabs:n})})},B=a(312),D=a(164),P=a(152),S=a(25),M=a(316),E=a(160),L=a(161),I=a(69),H=a(103),J=a.n(H),V=function(t){var e=new Date(t);return"".concat(e.getHours(),":").concat(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())},K=function(t,e){if(e&&e[0]){var a=new Date(e[0].payload.Date);return"Date: ".concat(a.toLocaleDateString(navigator.language,{hour:"2-digit",minute:"2-digit"}))}return t},R=function(t){return t.toFixed(3)},z=function(){var t=Object(r.useContext)(f).data,e=t.reduce((function(t,e){return t+e.Close}),0)/t.length;return Object(p.jsx)("div",{className:J.a.Chart,children:Object(p.jsxs)(B.a,{width:800,height:300,data:t,children:[Object(p.jsx)(D.a,{type:"linear",dataKey:"Close",fill:"#8884d8",stroke:"#8884d8"}),Object(p.jsx)(P.a,{y:e,stroke:"red",strokeDasharray:"3 3",label:Object(p.jsx)(S.a,{className:J.a.label,position:"right",value:e.toFixed(1)})}),Object(p.jsx)(M.a,{stroke:"#ccc"}),Object(p.jsx)(E.a,{dataKey:"Date",tickFormatter:V}),Object(p.jsx)(L.a,{orientation:"right",interval:"preserveEnd",domain:["auto","auto"]}),Object(p.jsx)(I.a,{formatter:R,labelFormatter:K})]})})};z.defaultProps={data:[]};var Q=z,X=function(){var t=Object(r.useContext)(f),e=Object(p.jsxs)("main",{children:[Object(p.jsx)(N,{}),Object(p.jsx)(v,{children:Object(p.jsx)(Q,{})})]});return t.error&&(e=Object(p.jsxs)("p",{children:["An error occured: ",t.error.message]})),"pending"===t.status&&(e=Object(p.jsx)("div",{className:"spinner"})),Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("header",{children:Object(p.jsx)("h1",{children:"Apple stock data"})}),e]})})},Y=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,318)).then((function(e){var a=e.getCLS,r=e.getFID,n=e.getFCP,s=e.getLCP,c=e.getTTFB;a(t),r(t),n(t),s(t),c(t)}))};c.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(g,{children:Object(p.jsx)(X,{})})}),document.getElementById("root")),Y()}},[[310,1,2]]]);
//# sourceMappingURL=main.d9dfb832.chunk.js.map