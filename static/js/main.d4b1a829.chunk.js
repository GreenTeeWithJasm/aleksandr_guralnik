(this.webpackJsonpaleksandr_guralnik=this.webpackJsonpaleksandr_guralnik||[]).push([[0],{102:function(t,e,a){t.exports={Tab:"Tab_Tab__24ZQb",active:"Tab_active__1h_ri"}},103:function(t,e,a){t.exports={Chart:"Chart_Chart__3zPcL",label:"Chart_label__1awVu"}},143:function(t,e,a){t.exports={Card:"Card_Card__1NsFV"}},144:function(t,e,a){t.exports={Tabs:"Tabs_Tabs__3JCYh"}},173:function(t,e,a){},310:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),s=a(78),i=a.n(s),c=(a(173),a(163)),o=a(18),d=a(40),u={status:"",error:null,data:null},l=function(t,e){switch(e.type){case"pending":return Object(d.a)(Object(d.a)({},t),{},{status:"pending"});case"completed":return e.error?{status:"completed",error:e.error,data:null}:{status:"completed",error:null,data:e.data};default:return u}},j=function(){var t=Object(r.useReducer)(l,u),e=Object(o.a)(t,2),a=e[0],n=e[1];return[Object(r.useCallback)((function(t){n({type:"pending"}),fetch(t).then((function(t){if(!t.ok)throw new Error("Something went wrong");return t.json()})).then((function(t){n({type:"completed",data:t})})).catch((function(t){n({type:"completed",error:t})}))}),[]),a]},p=a(9),b={data:[],sorting:{id:"5ms",period:5,precision:"Minutes"},error:null,status:""},h=function(t,e){switch(e.type){case"set-data":return{data:e.payload.data,sorting:t.sorting,error:null,status:e.payload.status};case"set-error":return{data:t.data,sorting:t.sorting,error:e.payload.error,status:e.payload.status};case"set-status":return Object(d.a)(Object(d.a)({},t),{},{status:e.payload.status});case"change-sorting":return{data:[],sorting:e.payload,error:null,status:""};default:return t}},g=Object(r.createContext)(b),f=function(t){var e=Object(r.useReducer)(h,b),a=Object(o.a)(e,2),n=a[0],s=n.data,i=n.sorting,d=n.error,u=n.status,l=a[1],f=j(),O=Object(o.a)(f,2),m=O[0],v=O[1],x=v.data,C=v.status,y=v.error;Object(r.useEffect)((function(){if(""===u){var t="https://www.fxempire.com/api/v1/en/stocks/chart/candles?Identifier=AAPL.XNAS&IdentifierType=Symbol&AdjustmentMethod=All&IncludeExtended=False&period=".concat(i.period,"&Precision=").concat(i.precision,"&StartTime=8/28/2020%2016:0&EndTime=9/4/2020%2023:59&_fields=ChartBars.StartDate,ChartBars.High,ChartBars.Low,ChartBars.StartTime,ChartBars.Open,ChartBars.Close,ChartBars.Volume");m(t)}}),[m,i,u]),Object(r.useEffect)((function(){l(null!==x?{type:"set-data",payload:{data:x,status:C,error:y}}:null!==y?{type:"set-error",payload:{status:C,error:y}}:{type:"set-status",payload:{status:C}})}),[x,C,y,l]);var w=s.length>15?s.splice(s.length-15):Object(c.a)(s);return Object(p.jsx)(g.Provider,{value:{data:w,dispatch:l,sorting:i,status:u,error:d},children:t.children})},O=a(143),m=a.n(O),v=function(t){return Object(p.jsx)("div",{className:m.a.Card,children:t.children})},x=a(144),C=a.n(x),y=a(102),w=a.n(y),_=function(t){return Object(p.jsx)("div",{className:"".concat(w.a.Tab," ").concat(t.isActive?w.a.active:""),onClick:t.onClick,children:Object(p.jsx)("p",{children:t.name})})};_.defaultProps={name:"",isActive:!1,sorting:{},onClick:function(){}};var k=_,A=function(t){var e=t.tabs.map((function(t,e){return Object(p.jsx)(k,Object(d.a)({},t),"tab__".concat(t.name).concat(e))}));return Object(p.jsx)("div",{className:C.a.Tabs,children:e})};A.defaultProps={tabs:[]};var T=A,D=[{name:"1 min",sorting:{id:"1ms",period:1,precision:"Minutes"},isActive:!1},{name:"5 min",sorting:{id:"5ms",period:5,precision:"Minutes"},isActive:!1},{name:"1 hour",sorting:{id:"1hs",period:1,precision:"Hours"},isActive:!1},{name:"1 week",sorting:{id:"1ws",period:168,precision:"Hours"},isActive:!1}],F=function(){var t=Object(r.useContext)(g),e=t.dispatch,a=t.sorting,n=D.map((function(t){return t.sorting.id===a.id?t.isActive=!0:t.isActive=!1,t.onClick=function(){return a=t.sorting,void e({type:"change-sorting",payload:a});var a},t}));return Object(p.jsx)("div",{children:Object(p.jsx)(T,{tabs:n})})},N=a(312),B=a(164),M=a(152),P=a(25),S=a(316),E=a(160),L=a(161),I=a(69),H=a(103),J=a.n(H),V=function(t,e){if(e&&e[0]){var a=new Date(e[0].payload.Date);return"Date: ".concat(a.toLocaleDateString(navigator.language,{hour:"2-digit",minute:"2-digit"}))}return t},K=function(t){return t.toFixed(3)},R=function(){var t=Object(r.useContext)(g),e=t.data,a=t.sorting,n=e.reduce((function(t,e){return t+e.Close}),0)/e.length,s=window.screen.width<850?.75*window.screen.width:800;return Object(p.jsx)("div",{className:J.a.Chart,children:Object(p.jsxs)(N.a,{width:s,height:300,data:e,children:[Object(p.jsx)(B.a,{type:"linear",dataKey:"Close",fill:"#8884d8",stroke:"#8884d8"}),Object(p.jsx)(M.a,{y:n,stroke:"red",strokeDasharray:"3 3",label:Object(p.jsx)(P.a,{className:J.a.label,position:"right",value:n.toFixed(1)})}),Object(p.jsx)(S.a,{stroke:"#ccc"}),Object(p.jsx)(E.a,{dataKey:"Date",tickFormatter:function(t){if("1ws"!==a.id){var e=new Date(t);return"".concat(e.getHours(),":").concat(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())}var r=new Date(t);return"".concat(r.getDate(),".").concat(r.getMonth(),".").concat(r.getFullYear())}.bind(a.id)}),Object(p.jsx)(L.a,{orientation:"right",interval:"preserveEnd",domain:["auto","auto"]}),Object(p.jsx)(I.a,{formatter:K,labelFormatter:V})]})})};R.defaultProps={data:[]};var Y=R,z=function(){var t=Object(r.useContext)(g),e=Object(p.jsxs)("main",{children:[Object(p.jsx)(F,{}),Object(p.jsx)(v,{children:Object(p.jsx)(Y,{})})]});return t.error&&(e=Object(p.jsxs)("p",{children:["An error occured: ",t.error.message]})),"pending"===t.status&&(e=Object(p.jsx)("div",{className:"spinner"})),Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("header",{children:Object(p.jsx)("h1",{children:"Apple stock data"})}),e]})})},Q=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,318)).then((function(e){var a=e.getCLS,r=e.getFID,n=e.getFCP,s=e.getLCP,i=e.getTTFB;a(t),r(t),n(t),s(t),i(t)}))};i.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(f,{children:Object(p.jsx)(z,{})})}),document.getElementById("root")),Q()}},[[310,1,2]]]);
//# sourceMappingURL=main.d4b1a829.chunk.js.map